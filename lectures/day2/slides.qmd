---
title: "Day 2: Dynamics & Iteration"
subtitle: "GPU-Accelerated Mathematical Illustration"
metadata-files:
  - ../../_slides-metadata.yml
---

# Complex Dynamics

## Complex Numbers in GLSL

GLSL doesn't have native complex numbers, but `vec2` works perfectly:

```glsl
// Complex multiplication: (a + bi)(c + di) = (ac - bd) + (ad + bc)i
vec2 cmul(vec2 a, vec2 b) {
    return vec2(
        a.x * b.x - a.y * b.y,
        a.x * b.y + a.y * b.x
    );
}
```

## More Complex Operations

```glsl
// Complex division
vec2 cdiv(vec2 a, vec2 b) {
    float denom = dot(b, b);
    return vec2(
        dot(a, b),
        a.y * b.x - a.x * b.y
    ) / denom;
}

// Complex exponential
vec2 cexp(vec2 z) {
    return exp(z.x) * vec2(cos(z.y), sin(z.y));
}
```

# The Mandelbrot Set

## The Iteration

Iterate $z_{n+1} = z_n^2 + c$ and check for escape:

```glsl
int mandelbrot(vec2 c, int maxIter) {
    vec2 z = vec2(0.0);
    for (int i = 0; i < maxIter; i++) {
        z = cmul(z, z) + c;
        if (dot(z, z) > 4.0) return i;
    }
    return maxIter;
}
```

## Why $|z| > 2$?

::: {.callout-tip}
If $|z| > 2$, then $|z^2 + c| \geq |z|^2 - |c| > 2|z| - |c|$

For points in our view window, once $|z| > 2$, the orbit escapes to infinity.
:::

## Mandelbrot Visualization

{{< shader-demo day2/mandelbrot-color height="550px" >}}

# Julia Sets

## The Relationship

Same iteration, different perspective:

| Set | Varies | Fixed |
|-----|--------|-------|
| **Mandelbrot** | $c$ | $z_0 = 0$ |
| **Julia** | $z_0$ | $c$ |

Each point $c$ in the Mandelbrot set corresponds to a connected Julia set.

## Julia Set Explorer

{{< shader-demo day2/julia-explorer height="500px" >}}

Drag to change the parameter $c$.

## Zooming In

{{< shader-demo day2/mandelbrot-zoom height="550px" >}}

# Möbius Transformations

## Circle Inversion

Inversion through a circle of radius $r$:

$$z \mapsto \frac{r^2}{\bar{z}}$$

In GLSL:

```glsl
vec2 invert(vec2 z, float r) {
    return r * r * z / dot(z, z);
}
```

## Inversion Demo

{{< shader-demo day2/inversion-grid height="500px" >}}

## Properties of Inversion

::: {.incremental}
- Maps circles to circles (or lines)
- Maps lines through origin to themselves
- Maps lines not through origin to circles through origin
- Conformal (preserves angles)
:::

# What's Next

## Day 3 Preview

- Symmetry and reflection groups
- The folding algorithm
- Square and triangle tilings
- Hyperbolic geometry in the Poincaré disk
- Hyperbolic tilings

## Exercises

**Explorations**: Custom coloring, smooth iteration, burning ship

**Challenges**: Newton fractals, orbit traps, deep zooming
