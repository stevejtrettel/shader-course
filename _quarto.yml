project:
  type: book
  output-dir: _book
  resources:
    - demos/**

book:
  title: "GPU-Accelerated Mathematical Illustration"
  subtitle: "An Introduction to Shader Programming"
  author: "Steve Trettel"
  date: today
  date-format: "MMMM YYYY"
  cover-image: images/cover.png

  chapters:
    - index.qmd
    - outline.qmd
    - lectures/day1.qmd
    - lectures/day2.qmd
    - lectures/day3.qmd
    - lectures/day4.qmd
    - lectures/day5a.qmd  # Advanced Raymarching option
    - lectures/day5b.qmd  # Buffers/PDEs option
    # - resources.qmd

  appendices:
    - appendices/day1-shaders.qmd
    - appendices/day2-shaders.qmd
    - appendices/day3-shaders.qmd
    - appendices/glsl-reference.qmd
    # - appendices/shadertoy-tips.qmd
    # - appendices/debug-reference.qmd
    # - appendices/folding-fractals.qmd
    # - appendices/schottky.qmd

  sidebar:
    style: "docked"
    collapse-level: 2

  search: true

  # TODO: Update with your actual repo URL
  repo-url: https://github.com/stevejtrettel/shader-course
  downloads: [pdf]

bibliography: references.bib

format:
  html:
    theme:
      light: [cosmo, custom.scss]
      dark: [darkly, custom.scss]
    code-copy: true
    code-overflow: wrap
    toc: true
    toc-depth: 3
    number-sections: true
    number-depth: 2
    link-external-newwindow: true
    smooth-scroll: true

  pdf:
    documentclass: scrbook
    fontfamily: libertinus
    fontsize: 10pt
    toc: true
    toc-depth: 2
    number-sections: true
    colorlinks: true
    fig-width: 5.25  # 75% of text width (7in text width * 0.75)
    keep-tex: true
    geometry:
      - letterpaper
      - left=1.5in
      - right=1.5in
      - top=1.25in
      - bottom=1.25in
    include-in-header:
      text: |
        \usepackage{fancyhdr}
        \pagestyle{fancy}
        \usepackage{tcolorbox}
        \tcbuselibrary{breakable}

        % Define colors matching HTML callout styles
        \definecolor{noteblue}{HTML}{347dec}
        \definecolor{tipgreen}{HTML}{28a745}
        \definecolor{importantorange}{HTML}{fd7e14}
        \definecolor{warningyellow}{HTML}{ffc107}
        \definecolor{cautionred}{HTML}{dc3545}

# Syntax highlighting - "arrow" works well for both light and dark modes
highlight-style: arrow

# Execution options
execute:
  freeze: auto  # Re-render only when source changes
  echo: true
  warning: false